using System;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace Solutions
{
    [TestClass]
    public class Day20Tests
    {

        /*
            #...##.#.. ..###..### #.#.#####.
            ..#.#..#.# ###...#.#. .#..######
            .###....#. ..#....#.. ..#.......
            ###.##.##. .#.#.#..## ######....
            .###.##### ##...#.### ####.#..#.
            .##.#....# ##.##.###. .#...#.##.
            #...###### ####.#...# #.#####.##
            .....#..## #...##..#. ..#.###...
            #.####...# ##..#..... ..#.......
            #.##...##. ..##.#..#. ..#.###...

            #.##...##. ..##.#..#. ..#.###...
            ##..#.##.. ..#..###.# ##.##....#
            ##.####... .#.####.#. ..#.###..#
            ####.#.#.. ...#.##### ###.#..###
            .#.####... ...##..##. .######.##
            .##..##.#. ....#...## #.#.#.#...
            ....#..#.# #.#.#.##.# #.###.###.
            ..#.#..... .#.##.#..# #.###.##..
            ####.#.... .#..#.##.. .######...
            ...#.#.#.# ###.##.#.. .##...####

            ...#.#.#.# ###.##.#.. .##...####
            ..#.#.###. ..##.##.## #..#.##..#
            ..####.### ##.#...##. .#.#..#.##
            #..#.#..#. ...#.#.#.. .####.###.
            .#..####.# #..#.#.#.# ####.###..
            .#####..## #####...#. .##....##.
            ##.##..#.. ..#...#... .####...#.
            #.#.###... .##..##... .####.##.#
            #...###... ..##...#.. ...#..####
            ..#.#....# ##.#.#.... ...##.....

            1951 2311 3079
            2729 1427 2473
            2971 1489 1171
        */

        public static readonly string[] TEST_INPUT =
        {
            "Tile 2311:",
            "..##.#..#.",
            "##..#.....",
            "#...##..#.",
            "####.#...#",
            "##.##.###.",
            "##...#.###",
            ".#.#.#..##",
            "..#....#..",
            "###...#.#.",
            "..###..###",
            "",
            "Tile 1951:",
            "#.##...##.",
            "#.####...#",
            ".....#..##",
            "#...######",
            ".##.#....#",
            ".###.#####",
            "###.##.##.",
            ".###....#.",
            "..#.#..#.#",
            "#...##.#..",
            "",
            "Tile 1171:",
            "####...##.",
            "#..##.#..#",
            "##.#..#.#.",
            ".###.####.",
            "..###.####",
            ".##....##.",
            ".#...####.",
            "#.##.####.",
            "####..#...",
            ".....##...",
            "",
            "Tile 1427:",
            "###.##.#..",
            ".#..#.##..",
            ".#.##.#..#",
            "#.#.#.##.#",
            "....#...##",
            "...##..##.",
            "...#.#####",
            ".#.####.#.",
            "..#..###.#",
            "..##.#..#.",
            "",
            "Tile 1489:",
            "##.#.#....",
            "..##...#..",
            ".##..##...",
            "..#...#...",
            "#####...#.",
            "#..#.#.#.#",
            "...#.#.#..",
            "##.#...##.",
            "..##.##.##",
            "###.##.#..",
            "",
            "Tile 2473:",
            "#....####.",
            "#..#.##...",
            "#.##..#...",
            "######.#.#",
            ".#...#.#.#",
            ".#########",
            ".###.#..#.",
            "########.#",
            "##...##.#.",
            "..###.#.#.",
            "",
            "Tile 2971:",
            "..#.#....#",
            "#...###...",
            "#.#.###...",
            "##.##..#..",
            ".#####..##",
            ".#..####.#",
            "#..#.#..#.",
            "..####.###",
            "..#.#.###.",
            "...#.#.#.#",
            "",
            "Tile 2729:",
            "...#.#.#.#",
            "####.#....",
            "..#.#.....",
            "....#..#.#",
            ".##..##.#.",
            ".#.####...",
            "####.#.#..",
            "##.####...",
            "##..#.##..",
            "#.##...##.",
            "",
            "Tile 3079:",
            "#.#.#####.",
            ".#..######",
            "..#.......",
            "######....",
            "####.#..#.",
            ".#...#.##.",
            "#.#####.##",
            "..#.###...",
            "..#.......",
            "..#.###...",
        };

        [TestMethod]
        public void Test1FromExamples()
        {
            var day = new Day20();
            Assert.AreEqual(
                20899048083289ul,
                day.Solve1(TEST_INPUT));
        }


        [TestMethod]
        public void Test1PuzzleInput()
        {
            var day = new Day20();
            Assert.AreEqual(
                20033377297069ul,
                day.Solve1(Day20.PUZZLE_INPUT));
        }

        [TestMethod]
        public void Test2FromExample()
        {
            var day = new Day20();
            Assert.AreEqual(
                273ul,
                day.Solve2(TEST_INPUT));
        }

        [TestMethod]
        public void Test2PuzzleInput()
        {
            var day = new Day20();
            Assert.AreEqual(
                2084ul,
                day.Solve2(Day20.PUZZLE_INPUT));
        }

    }
}

